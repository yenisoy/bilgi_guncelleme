<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Bilgi Doƒürulama 2 sistemi - Bilgilerinizi g√ºncelleyin">
    <title>Bilgi Doƒürulama 2</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/css/intlTelInput.css">
    <script src="https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/intlTelInput.min.js"></script>
</head>

<body>
    <!-- Public Form Container -->
    <div id="public-container" class="public-container">
        <div class="public-header">
            <h1 class="public-title">üìç Bilgi Doƒürulama 2</h1>
            <p class="public-subtitle" id="form-subtitle">L√ºtfen bilgilerinizi girin.</p>
            <p class="text-muted" id="ref-code-display" style="margin-top: 0.5rem; display: none;">
                Ref Kodu: <strong id="ref-code-value"></strong>
            </p>
        </div>

        <div class="card public-card">
            <!-- Loading State -->
            <div id="loading-state" class="loading" style="display: none;">
                <div class="spinner"></div>
            </div>

            <!-- Success State -->
            <div id="success-state" class="text-center" style="display: none;">
                <div style="font-size: 4rem; margin-bottom: 1rem;">‚úÖ</div>
                <h2 style="margin-bottom: 0.5rem;">Te≈üekk√ºrler!</h2>
                <p class="text-muted" id="success-message">Kayƒ±t talebiniz alƒ±ndƒ±.</p>

                <!-- Dynamic Action Button (URL Controlled) -->
                <div id="dynamic-action-container" style="margin-top: 1.5rem; display: none;">
                    <a id="dynamic-action-btn" href="#" target="_blank" class="btn btn-full"
                        style="background-color: #059669; border: 1px solid #059669; color: white; text-decoration: none; display: flex; align-items: center; justify-content: center; font-weight: 600; box-shadow: 0 4px 6px -1px rgba(5, 150, 105, 0.2);">
                        <!-- Text will be injected via JS -->
                    </a>
                </div>
            </div>

            <!-- Form -->
            <form id="address-form" style="display: none;">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">ƒ∞sim *</label>
                        <input type="text" id="firstName" class="form-input" placeholder="ƒ∞sim" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Soyisim *</label>
                        <input type="text" id="lastName" class="form-input" placeholder="Soyisim" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Telefon</label>
                        <input type="tel" id="phone" class="form-input" placeholder="05XX XXX XX XX">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" id="email" class="form-input" placeholder="ornek@email.com">
                    </div>
                </div>

                <hr class="divider">

                <h3 class="section-title">Adres Bilgileri</h3>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">ƒ∞l</label>
                        <select id="province" class="form-select">
                            <option value="">ƒ∞l Se√ßin</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ƒ∞l√ße</label>
                        <select id="district" class="form-select" disabled>
                            <option value="">ƒ∞l√ße Se√ßin</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Mahalle</label>
                        <select id="neighborhood" class="form-select" disabled>
                            <option value="">Mahalle Se√ßin</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Sokak/Cadde</label>
                        <input type="text" id="street" class="form-input">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Bina No</label>
                        <input type="text" id="buildingNo" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Daire No</label>
                        <input type="text" id="apartmentNo" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Posta Kodu</label>
                        <input type="text" id="postalCode" class="form-input">
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Tam Adres</label>
                    <textarea id="fullAddress" class="form-input" rows="2"
                        placeholder="Tam adresinizi yazabilirsiniz..."></textarea>
                </div>

                <div class="form-group"
                    style="margin-bottom: 1rem; display: flex; align-items: flex-start; gap: 0.5rem; padding: 0 4px;">
                    <input type="checkbox" id="notificationConsent" checked
                        style="margin-top: 2px; accent-color: #4f46e5; cursor: pointer;">
                    <label for="notificationConsent"
                        style="font-size: 0.75rem; color: #9ca3af; line-height: 1.35; cursor: pointer; user-select: none;">
                        √ñnemli geli≈ümelerden anƒ±nda haberdar olmak ve hi√ßbir detayƒ± ka√ßƒ±rmamak istiyorum.
                    </label>
                </div>

                <button type="submit" id="submit-btn" class="btn btn-primary btn-full">
                    G√∂nder
                </button>
            </form>
        </div>

        <div class="security-badge text-center footer-text"
            style="margin-top: 2rem; padding: 1rem; background: #f9fafb; border-radius: 8px; border: 1px solid #e5e7eb;">
            <div style="display: flex; align-items: center; justify-content: center; gap: 8px; margin-bottom: 5px;">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#059669" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                </svg>
                <span style="font-weight: 600; color: #111827; font-size: 0.95rem;">256-Bit SSL ile √úst√ºn
                    G√ºvenlik</span>
            </div>
            <p style="font-size: 0.8rem; color: #6b7280; max-width: 480px; margin: 0.5rem auto 0; line-height: 1.5;">
                Adres ve ki≈üisel verileriniz <strong>ISO 27001</strong> Bilgi G√ºvenliƒüi Standartlarƒ±na uygun olarak
                ≈üifrelenmekte ve <strong>KVKK</strong> kapsamƒ±nda g√ºvenle saklanmaktadƒ±r. Bilgileriniz izniniz olmadan
                √º√ß√ºnc√º taraflarla payla≈üƒ±lmaz.
            </p>
        </div>

        <div style="margin-top: 1.5rem; text-align: center; opacity: 0.9;">
            <p
                style="font-family: 'Inter', sans-serif; font-size: 0.75rem; color: #9ca3af; letter-spacing: 1px; font-weight: 500; text-transform: uppercase;">
                Crafted by <a href="https://mavera.site/" target="_blank"
                    style="text-decoration: none; transition: opacity 0.2s; cursor: pointer;"><span
                        style="background: linear-gradient(135deg, #4f46e5, #ec4899); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-weight: 800; font-size: 0.85rem; margin-left: 2px;">MAVERA</span></a>
            </p>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container"></div>

    <!-- Configuration - API URL'sini buradan deƒüi≈ütirin -->
    <script>
        // API URL - Production'da backend HTTPS domain, local'de HTTP
        window.API_BASE_URL = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1'
            ? `http://${window.location.hostname}:3001/api`
            : 'https://backendbg.ozpinar.live/api';
    </script>
    <script src="js/app.js"></script>
</body>

</html>